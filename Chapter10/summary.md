# 系统级I/O #

## Unix I/O ##

1. 一个Linux文件就是一个字节序列，所有的I/O设备都被模块化为文件，所有的输入输出都被当作对相应文件的读和写来处理：
    - 打开文件，应用程序要求内核打开文件，返回一个非负整数的描述符，它在后续对此文件的所有操作中标示这个文件。
    - Linux Shell创建的每个进程开始时都会打开三个文件：标准输入、标准输出、标准错误。
    - 改变当前的文件位置。
    - 读写文件。
    - 关闭文件。

## 文件 ##

1. Linux每个文件都有一个类型：
    - 普通文件，包括文本文件和二进制文件。文本文件包含一个文本行序列，每一行都以一个新行符结尾，二进制文件是除文本文件外的其他文件。
    - 目录，包含一组链接的文件，每个链接都将一个文件名映射到一个文件，每个目录至少含有两个条目，到该目录自身的链接（.），到目录层次结构中父目录的链接（..）。
    - 套接字，用来与另一个进程进行跨网络通信的文件。

## 打开和关闭文件 ##

1. Open函数打开一个已存在的文件或创建一个新文件。

2. flags参数指明了进程打算如何访问这个文件：
    - O_RDONLY，只读。
    - O_WRONLY，只写。
    - O_RDWR，可读可写。
    - O_CREAT，如果文件不存在，就创建它的一个截断的空文件。
    - O_TRUNC，如果文件已经存在，就截断它。
    - O_APPEND，在每次写操作前，设置文件位置到结尾处。

3. mode参数指定了新文件的访问权限位。

## 读和写文件 ##

## 用RIO包健壮地读写 ##